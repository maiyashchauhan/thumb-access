<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aadhaar-style Prototype â€” Verify Button Added</title>
  <style>
    :root{--bg:#f4f7fb;--card:#fff;--accent:#0b74ff;--muted:#65748b}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:linear-gradient(180deg,#eef6ff,#f6f8fb);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .frame{width:420px;background:var(--card);border-radius:12px;box-shadow:0 8px 30px rgba(10,20,40,0.08);overflow:hidden}
    .header{padding:18px 20px;border-bottom:1px solid #f1f4f8}
    .title{margin:0;font-size:16px}
    .body{padding:18px}
    label{display:block;font-weight:600;font-size:13px;color:#1f2d3d;margin-top:12px}
    input[type=text],input[type=date]{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;font-size:14px}
    .hint{font-size:12px;color:var(--muted);margin-top:6px}
    .finger-area{margin-top:12px;border-radius:10px;border:1px dashed #e3e9f6;background:#fafcff;padding:12px;text-align:center}
    canvas{width:100%;height:180px;background:#fff;border-radius:8px;touch-action:none}
    .btn{display:inline-block;background:var(--accent);color:#fff;padding:10px 14px;border-radius:8px;border:none;cursor:pointer;margin-top:12px}
    .btn.ghost{background:#f2f7ff;color:var(--accent);border:1px solid #dfeefb}
    .row{display:flex;gap:8px;align-items:center;margin-top:12px;justify-content:center}
    .small-muted{font-size:12px;color:var(--muted)}
    .success{color:green;font-weight:700}
    .danger{color:#b00020;font-weight:700}
  </style>
</head>
<body>
  <div class="frame" id="app">
    <!-- Page 1: Login (name, dob, fingerprint placement) -->
    <div id="page-login">
      <div class="header">
        <h2 class="title">Login â€” Aadhaar Prototype (Page 1)</h2>
      </div>
      <div class="body">
        <label for="name">Full name</label>
        <input id="name" type="text" placeholder="e.g. Yash Chauhan" />

        <label for="dob">Date of birth</label>
        <input id="dob" type="date" />

        <div class="finger-area">
          <div class="small-muted">Preset fingerprint is shown. Touch/click the canvas or click Verify to continue.</div>
          <canvas id="sensor" width="400" height="180"></canvas>
          <div class="row">
            <button class="btn" id="placeThumbBtn">Place Finger</button>
            <button class="btn ghost" id="clearBtn">Reset</button>
            <button class="btn" id="verifyDirectBtn">Verify (Skip Fingerprint)</button>
          </div>
          <div id="fpStatus" class="small-muted" style="margin-top:8px">Status: <span id="statusText">waiting</span></div>
        </div>

        <div class="row">
          <button class="btn" id="toOtpBtn">Proceed (after verification)</button>
        </div>

        <div class="small-muted" style="margin-top:8px">This is a prototype only â€” no real Aadhaar or biometric validation.</div>
      </div>
    </div>

    <!-- Page 2: OTP -->
    <div id="page-otp" style="display:none">
      <div class="header"><h2 class="title">OTP Verification</h2></div>
      <div class="body">
        <p>An OTP has been sent to your Aadhaar-linked mobile <strong>+91-9XXXXXXXXX</strong></p>
        <button class="btn" id="sendOtpBtn">Send OTP (Simulate)</button>
        <div id="displayOtp" class="small-muted" style="margin-top:8px"></div>

        <label for="otpInput">Enter OTP</label>
        <input id="otpInput" type="text" placeholder="6-digit OTP" />

        <div class="row">
          <button class="btn" id="verifyBtn">Verify OTP</button>
        </div>

        <div id="otpResult" class="small-muted" style="margin-top:8px">Result: <span id="otpResultText">waiting</span></div>
      </div>
    </div>

    <!-- Page 3: Success -->
    <div id="page-success" style="display:none;text-align:center;padding:20px">
      <h2 style="color:green">ðŸŽ‰ Congratulations</h2>
      <p>You are successfully logged in (prototype)</p>
    </div>
  </div>

  <script>
    const sensor = document.getElementById('sensor');
    const ctx = sensor.getContext('2d');
    const statusText = document.getElementById('statusText');
    const placeThumbBtn = document.getElementById('placeThumbBtn');
    const clearBtn = document.getElementById('clearBtn');
    const verifyDirectBtn = document.getElementById('verifyDirectBtn');
    const toOtpBtn = document.getElementById('toOtpBtn');
    const pageLogin = document.getElementById('page-login');
    const pageOtp = document.getElementById('page-otp');
    const pageSuccess = document.getElementById('page-success');
    const sendOtpBtn = document.getElementById('sendOtpBtn');
    const displayOtp = document.getElementById('displayOtp');
    const otpInput = document.getElementById('otpInput');
    const verifyBtn = document.getElementById('verifyBtn');
    const otpResultText = document.getElementById('otpResultText');

    function drawPreset(){ctx.clearRect(0,0,sensor.width,sensor.height);ctx.lineWidth=4;ctx.strokeStyle='#222';for(let i=0;i<7;i++){ctx.beginPath();const o=8+i*9;ctx.ellipse(200,90,110-o,140-o,-0.35,-2.2,2.6);ctx.stroke();}}
    drawPreset();

    let verified=false;

    function simulatePlace(){const name=document.getElementById('name').value.trim();const dob=document.getElementById('dob').value.trim();if(!name||!dob){alert('Please enter name and DOB first.');return;}ctx.fillStyle='rgba(11,116,255,0.12)';ctx.beginPath();ctx.ellipse(200,90,90,120,0,0,Math.PI*2);ctx.fill();statusText.textContent='verified âœ“';statusText.className='success';verified=true;}

    placeThumbBtn.addEventListener('click',simulatePlace);
    sensor.addEventListener('click',simulatePlace);
    clearBtn.addEventListener('click',()=>{drawPreset();statusText.textContent='waiting';verified=false;});

    verifyDirectBtn.addEventListener('click',()=>{ // skip fingerprint
      const name=document.getElementById('name').value.trim();const dob=document.getElementById('dob').value.trim();if(!name||!dob){alert('Please enter name and DOB first.');return;}
      statusText.textContent='verified (skipped) âœ“';statusText.className='success';verified=true;alert('Fingerprint skipped for prototype, verified!');
    });

    toOtpBtn.addEventListener('click',()=>{
      if(!verified){alert('Please verify fingerprint first.');return;}
      pageLogin.style.display='none';pageOtp.style.display='block';
    });

    let otp=null;
    function genOtp(){return String(Math.floor(100000+Math.random()*900000));}
    sendOtpBtn.addEventListener('click',()=>{otp=genOtp();displayOtp.textContent='Fake OTP: '+otp;});
    verifyBtn.addEventListener('click',()=>{if(otpInput.value.trim()===otp){pageOtp.style.display='none';pageSuccess.style.display='block';}else{otpResultText.textContent='Incorrect OTP';otpResultText.className='danger';}});
  </script>
</body>
</html>
